{"version":3,"sources":["../../../src/resources/orderModel.js"],"names":[],"mappings":"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","file":"orderModel.js","sourcesContent":["var mongoose = require(\"mongoose\");\n\nlet orderSchema = mongoose.Schema({\n        \"customerId\": mongoose.Schema.Types.Mixed,\n        \"iceOrderId\": {type: String, required: true, unique: true, index: true},\n        \"merlinOrderReference\": String,\n        \"paymentReference\": String,\n        \"paymentType\": String,\n        \"cardNumber\": String,\n        \"fraudResponse\": String,\n        \"internalStatus\": {\n            \"orderConfirmation\": {type: Boolean, default: 1},\n            \"orderShipped\": {type: Boolean, default: 0},\n            \"sendToMerlin\": {type: Boolean, default: 1}\n        },\n        \"paymentTransactions\": [{\n            \"transactionDate\": Date,\n            \"status\": String,\n            \"statusdetail\": String,\n            \"txauthno\": String,\n            \"avscv2\": String,\n            \"addressresult\": String,\n            \"postcoderesult\": String,\n            \"cv2result\": String,\n            \"giftaid\": String,\n            \"threedsecurestatus\": String,\n            \"cavv\": String,\n            \"addressstatus\": String,\n            \"payerstatus\": String,\n            \"cardtype\": String,\n            \"last4digits\": String,\n            \"vpssignature\": String,\n            \"fraudresponse\": String,\n            \"surcharge\": String,\n            \"expirydate\": String,\n            \"bankauthcode\": String,\n            \"declinecode\": String,\n            \"token\": String,\n            \"txtype\": String,\n            \"vpsprotocol\": String\n        }],\n        \"lastUpdated\": Date,\n        \"currency\": String,\n        \"promotionCode\": String,\n        \"orderStatus\": {type: String, default: \"payment_required\"},\n        \"orderStatusDetail\": {type: String},\n        \"creationDate\": String,\n        \"orderPrice\": {\n            \"orderLinesTotalWithoutVat\": Number,\n            \"orderLinesTotalWithVat\": Number,\n            \"orderGrandTotalWithoutVat\": Number,\n            \"orderGrandTotalWithVat\": Number,\n            \"orderGrandTotalVat\": Number,\n            \"totalShippingPriceWithoutVat\": Number,\n            \"totalShippingPriceWithVat\": Number,\n            \"additionalShippingTotalWithoutVat\": Number,\n            \"additionalShippingTotalWithVat\": Number,\n            \"additionalSpendForFreeShipping\": Number\n        },\n        \"orderLines\": [{\n            \"productId\": String,\n            \"quantity\": Number,\n            \"category\": {\n                \"categoryId\": String,\n                \"categoryName\": String\n            },\n            \"name\": String,\n            \"description\": String,\n            \"sku\": String,\n            \"image\": {\n                \"lowResolution\": String,\n                \"highResolution\": String\n            },\n            \"brand\": {\n                \"brandId\": String,\n                \"brandName\": String,\n                \"ownBrand\": String,\n                \"imageUrl\": String\n            },\n            \"orderLinePrice\": {\n                \"unitPriceWithoutVat\": Number,\n                \"unitPriceWithVat\": Number,\n                \"orderLinePriceWithVat\": Number,\n                \"orderLinePriceWithoutVat\": Number,\n                \"vatType\": String,\n                \"vatRate\": Number\n            },\n            \"orderLineShippingDetails\": {\n                \"deliveryDate\": {\n                    \"from\": String,\n                    \"to\": String\n                },\n                \"shippingType\": Number,\n                \"orderLineShippingPriceWithoutVat\": Number,\n                \"orderLineShippingPriceWithVat\": Number\n            }\n        }],\n        \"shippingDetails\": {\n            \"shippingAddress\": {\n                \"title\": String,\n                \"companyName\": String,\n                \"firstName\": String,\n                \"lastName\": String,\n                \"addressLine1\": String,\n                \"addressLine2\": String,\n                \"city\": String,\n                \"state\": String,\n                \"postalCode\": String,\n                \"countryCode\": String,\n                \"mobilePhone\": String,\n                \"homePhone\": String,\n                \"workPhone\": String\n            },\n            \"shippingNotes\": String\n        },\n        \"billingDetails\": {\n            \"billingAddress\": {\n                \"title\": String,\n                \"companyName\": String,\n                \"firstName\": String,\n                \"lastName\": String,\n                \"addressLine1\": String,\n                \"addressLine2\": String,\n                \"city\": String,\n                \"state\": String,\n                \"postalCode\": String,\n                \"countryCode\": String,\n                \"mobilePhone\": String,\n                \"homePhone\": String,\n                \"workPhone\": String\n            }\n        }\n    }\n);\n\nmodule.exports = mongoose.model(\"orders\", orderSchema);\n\n"]}